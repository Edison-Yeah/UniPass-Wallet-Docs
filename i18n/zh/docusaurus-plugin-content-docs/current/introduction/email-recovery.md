---
sidebar_position: 2
---

# 邮件恢复

在非托管的智能合约钱包中，当用户遗忘、丢失或因为各种其他原因而无法访问主密钥后，用户将会失去对账户的控制权，此时用户需要通过账户恢复流程，替换账户内的主密钥，从而重新获得对账户的控制权。

目前市面上智能合约账户恢复的方式比较有限，最主要的是 Argent 推出的社交恢复，用户需要设置其他 Argent 账户或者 EOA 地址作为守护者，通过多签验证的形式恢复账户。这种账户恢复方式对守护者提出了较高的要求，守护者必须是区块链用户。

而 UniPass Wallet 通过独创的链上邮件验证技术，推出了邮件恢复方案，用户可以通过设置多个互联网邮箱作为账户守护者，通过往链上提交邮件的形式实现账户恢复。这将大大降低守护者的门槛，绝大多数拥有互联网邮箱的用户都可以成为 UniPass Wallet 账户的守护者。

在 UniPass Wallet 中，当用户忘记密码，失去对主密钥的控制权后，用户可以开启邮件恢复流程。只需要满足要求的守护者邮箱发送账户恢复邮件至区块链上，邮件按照指定格式包含账户地址和新的主密钥等信息，链上合约即可验证邮件的真实性，在合约验证通过后，即可完成账户恢复。

:::tip 使用指南

- 当用户设置两个守护者邮箱（包含注册邮箱）时，用户在两个邮箱分别发送账户恢复邮件，即可立即完成账户恢复。
- 当用户只有一个守护者邮箱（默认即为注册邮箱）时，用户发送账户恢复邮件后，需要等待 48 小时锁定期，才能完成账户恢复。

为了您的账户安全，强烈建议您设置两个以上的守护者邮箱。
:::

## 邮件社交恢复

除了设置您自己的邮箱作为守护者邮箱，您还可以将亲人、朋友或者其他您信任的人设置为您账户的守护者。他们需要提供一个满足要求的邮箱，然后您可以给他们发送一封守护者邀请邮件，在他们接受邀请后，就会成为您 UniPass 账户的守护者，并在您需要帮助的时候，通过发送邮件协助您完成账户的社交恢复。

UniPass Wallet 在守护者管理层设置有权重系统，用户可以自定义各个守护者邮箱的权重系数，满足各种定制化需求。了解更多>>角色权重系统

:::tip 使用指南：
默认设置下，当请求恢复的 Guardian 角色合计权重超过`50`时，可以开启带时间锁的账户恢复；合计权重超过`100`时，可以进行即时恢复。

例如您可以选择两个守护者，并将 Guardian 角色的参数设置如下：

| Guardians | Weight |
|--|--|
| Your Email |`60`|
| Guard_A’s Email |`40`|
| Guard_B’s Email |`40`|

此时：
- 您和任一守护者可以完成即时的账户恢复；
- 您可以独立发起带时间锁的账户恢复；
- 当您的邮箱不可用时，两个守护者联合可以发起带时间锁的账户恢复；
- 任意单一守护者无法发起账户恢复。

:::

UniPass 在账户创建的门槛降到互联网级别的同时，还将账户恢复的守护者门槛降到了互联网级别，真正实现了一个普通用户可自管理、易理解、好操作的智能合约账户。

## 什么是社交恢复

Vitalik Buterin 早在 2014 年就开始推广社交恢复这个想法，2021 年 1 月发表了《[Why we need wide adoption of social recovery wallets](https://vitalik.ca/general/2021/01/11/recovery.html)》来进行详细阐述。

社交恢复功能是通过智能合约定义并实现，用户可以设置多个守护者，其中大多数守护者发起请求时，可以更改帐户的主密钥。

如果用户丢失了主密钥（一般就是删除钱包或丢失包含钱包的设备），那么社交恢复功能就会启动 —— 用户可以直接与守护者们联系，要求他们签署一项特殊交易，以将钱包合同中的主密钥更改为新的密钥，从而实现钱包恢复。